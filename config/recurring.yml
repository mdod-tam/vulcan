# Recurring tasks configuration for Solid Queue
# Format: https://github.com/rails/solid_queue#recurring-tasks

production:
  generate_vendor_invoices:
    class: GenerateVendorInvoicesJob
    schedule: "0 0 */14 * *"
    description: "Generate biweekly invoices for vendors with pending transactions"
  <% if FeatureFlag.enabled?(:vouchers_enabled) %>
    check_voucher_expiration:
      class: CheckVoucherExpirationJob
      schedule: "0 1 * * *"
      description: "Check for expiring vouchers and notify constituents"
      queue: "default"
      args: []
  <% end %>

  
  proof_attachment_metrics:
    class: ProofAttachmentMetricsJob
    schedule: "0 0 * * *"
    description: "Generate daily metrics on proof attachment success/failure rates"
    queue: "low"
    args: []
  
  proof_consistency_check:
    class: ProofConsistencyCheckJob
    schedule: "0 3 * * 0"
    description: "Check for inconsistent proof attachments and statuses"
    queue: "low"
    args: []

development:
  # Development recurring tasks (if any)
  # proof_attachment_metrics:
  #   class: ProofAttachmentMetricsJob
  #   schedule: "0 0 * * *"
  #   description: "Generate daily metrics on proof attachment success/failure rates"
  #   queue: "low"

test:
  # No recurring tasks in test environment
